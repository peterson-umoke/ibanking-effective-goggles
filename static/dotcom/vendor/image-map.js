!function(t,e){if(!(window&&window.document||t&&t.document))throw new Error("ImageMap requires a window with a document");"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports&&"string"!=typeof exports.nodeName?module.exports=e(require("jquery")):t.ImageMap=e(t.jQuery)}(this||window,function(t){"use strict";var e=function(t){var r=this;return r?(r.selector=t instanceof Array?t:[].slice.call(document.querySelectorAll(t)),(r.update=function(){r.selector.forEach(function(t){var e=t,r=document.createElement("img");void 0!==e.getAttribute("usemap")&&(r.addEventListener("load",function(){var t=new Image;t.src=e.getAttribute("src");var r=e.getAttribute("width")||t.width,n=e.getAttribute("height")||t.height,i=e.offsetWidth/100,o=e.offsetHeight/100,a=e.getAttribute("usemap").replace("#",""),u="coords";[].forEach.call(document.querySelectorAll('map[name="'+a+'"] area'),function(t){var e,a=t;a.getAttribute("data-coords")?e=a.getAttribute("data-coords"):(e=a.getAttribute(u),a.setAttribute("data-coords",e));var c=e.split(","),d=Array.apply(null,Array(c.length));d.forEach(function(t,e){d[e]=e%2==0?Number(c[e]/r*100*i):Number(c[e]/n*100*o)}),a.setAttribute(u,d.toString())})}),r.setAttribute("src",e.getAttribute("src")))})})(),window.addEventListener("resize",r.update),r):new e(t)};return t&&t.fn&&(t.fn.imageMap=function(){return new e(this.toArray())}),e});